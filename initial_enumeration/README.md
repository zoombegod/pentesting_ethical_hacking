### Initial Recon
Summary of commands for first step recon and enum on target


#### nmap
```bash
sudo nmap -sV -sC
sudo nmap -sV -sC -O -A
sudo nmap -vvv -p-
sudo nmap --script='banner,vuln' -sV -sC
sudo nmap -sU -vvv
sudo nmap -Pn -p- --open -T4
sudo nmap -sT
sudo proxychains nmap -sT
sudo nmap --proxies socks4://proxy-ip:proxy-port

```
#### Without nmap

>  /dev/tcp & nc
```bash
top10=(20 21 22 23 25 80 110 139 443 445 3389); for i in "${top10[@]}"; do nc -w 1 $IP_ADD $i && echo "Port $i is open" || echo "Port $i is closed or filtered"; done

top10=(20 21 22 23 25 80 110 139 443 445 3389); for i in "${top10[@]}"; do (echo > /dev/tcp/$IP_ADD/"$i") > /dev/null 2>&1 && echo "Port $i is open" || echo "Port $i is closed"; done
```
> masscan
```bash
masscan -p 1-65535 --rate 2000
masscan  -p U:1-65535 --rate 2000
# use -e tun0  for specific network connection
sudo masscan -p1-65535 $(cat ip) --rate=1000 -e tun0 > ports
```

#### AutoRecon
[source](https://github.com/Tib3rius/AutoRecon)
```bash
autorecon -cs 5 $IP # concurrent scans
autorecon $IP --single-target # No Directory created
autorecon $IP --heartbeat 5 # give updates
autorecon $IP --only-scans-dir # give only results
autorecon $IP -v
sudo $(which autorecon) $(cat ip) -v --single-target --heartbeat 10 --dirbuster.wordlist /usr/share/seclists/Discovery/Web-Content/raft-large-directories.txt 


cat results/report/notes.txt
cat results/IP/scans/_commands.log
cat ~/results/IP/scans/_full_tcp_nmap.txt
cat results/IP/scans/enum4linux.txt
cat results/IP/scans/smbmap-share-permissions.txt
```

#### tcpdump
```bash
tcpdump -i eth0
tcpdump -c -i eth0
tcpdump -A -i eth0
tcpdump -w 0001.pcap -i eth0
tcpdump -r 0001.pcap
tcpdump -n -i eth0
tcpdump -i eth0 port 22
tcpdump -i eth0 -src $IP
tcpdump -i eth0 -dst $IP
```

#### sniff version of smb using tcpdump
```bash
sudo tcpdump -s0 -n -i tun0 src $IP and port 139 -A -c 10 2>/dev/null | grep -i "samba\|s.a.m" | tr -d '.' | grep -oP 'UnixSamba.*[0-9a-z]' | tr -d '\n' & echo -n "$IP: "
```

#### DNSRecon
```bash
dnsrecon -d $IP_/_$DOMAIN -a 
dnsrecon -d $IP_/_$DOMAIN -t axfr
dnsrecon -d <startIP-endIP>
dnsrecon -d $IP_/_$DOMAIN -D <namelist> -t brt
```

#### Dig 
```bash
dig $IP_/_$DOMAIN + short
dig $IP_/_$DOMAIN MX
dig $IP_/_$DOMAIN NS
dig $IP_/_$DOMAIN> SOA
dig $IP_/_$DOMAIN ANY +noall +answer
dig -x $IP_/_$DOMAIN
dig -4 $IP_/_$DOMAIN (For IPv4)
dig -6 $IP_/_$DOMAIN (For IPv6)
dig $IP_/_$DOMAIN mx +noall +answer example.com ns +noall +answer
dig -t AXFR $IP_/_$DOMAIN
```

#### Sublis3r
```bash
Sublist3r -d $IP_/_$DOMAIN
Sublist3r -v -d $IP_/_$DOMAIN -p 80,443
```

#### OWASP AMASS: 
```bash
amass enum -d $IP_/_$DOMAIN
amass intel -whois -d $IP_/_$DOMAIN
amass intel -active 172.21.0.0-64 -p 80,443,8080,8443
amass intel -ipv4 -whois -d $IP_/_$DOMAIN
amass intel -ipv6 -whois -d $IP_/_$DOMAIN
```

#### Curl 'ing
```bash
curl -i $IP
curl -A "'Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)')" http://$IP/robots.txt
```

#### netcat headers
```bash
(printf 'GET / HTTP/1.0\r\n\r\n'; sleep 1) | nc $IP 80
```

